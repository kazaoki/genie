#!/usr/bin/env node
parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({3:[function(require,module,exports) {
"use strict";const e=require("string-width"),r=require("cli-color"),t=require("readline").createInterface(process.stdin,process.stdout),s=require("fs"),o=require("child_process"),i=module.exports.Repeat=((e,r=1)=>{if(!r>0)return"";for(var t="",s=0;s<r;s++)t+=e;return t}),n=module.exports.Message=((t,s="default",o=0)=>{var n=r.white,c=r.white;t=t.replace(/[\r\n]+$/,""),"primary"===s?(n=r.xterm(26),c=r.xterm(39)):"success"===s?(n=r.green,c=r.greenBright):"danger"===s?(n=r.red,c=r.redBright):"warning"===s?(n=r.yellow,c=r.yellowBright):"info"===s&&(n=r.whiteBright,c=r.whiteBright);var l=t.split(/[\r\n]+/),a=0;for(var p in l){var u=e(l[p]);a<u&&(a=u)}for(var p in a+=2,console.log("  "+n("┏")+n(i("─",a))+n("┓")),l)o>0&&o==p&&console.log("  "+n("┣")+n(i("─",a))+n("┫")),console.log("  "+n("│")+c(" "+l[p]+" ")+i(" ",a-2-e(l[p]))+n("│"));console.log("  "+n("┗")+n(i("─",a))+n("┛"))}),c=module.exports.Input=((s,o=20)=>{var n=r.bgBlack("  "),c=e(s="  "+s+"  ")+o,l=r.whiteBright.bgBlueBright,a=r.bgBlue;return console.log("\n"+n+l(i(" ",c))+"\n"+n+l(s+i(" ",o))+"\n"+n+l(i(" ",c))+"\n"+n+a(i(" ",c))),process.stdout.write(r.move.up(3)),process.stdout.write(r.move.right(c-o)),new Promise(e=>{t.on("line",t=>{process.stdout.write(r.move.down(3)),e(t)})})}),l=module.exports.Say=(e=>{if(0!==e.length)if(p())o.execSync(`say -r 300 "${e}"`);else if(a()){let r=s.mkdtempSync(process.env.TEMP+"/genie-say-"),t=r+"/say.js";s.writeFileSync(t,"var args = [];for(var i = 0; i < WScript.Arguments.length; i++) args.push(WScript.Arguments.Item(i));WScript.CreateObject('SAPI.SpVoice').Speak('<volume level=\"100\">'+'<rate speed=\"2\">'+'<pitch middle=\"0\">'+args.join(' ')+'</pitch>'+'</rate>'+'</volume>', 8);"),o.execSync(`start wscript ${t} "${e}"`),s.unlinkSync(t),s.rmdirSync(r)}}),a=module.exports.isWindows=(()=>"win32"===process.platform),p=module.exports.isMac=(()=>"darwin"===process.platform),u=module.exports.hasDockerMachineEnv=(()=>{return 0===o.spawnSync("docker-machine").status});
},{}],1:[function(require,module,exports) {
"use strict";function e(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,s){return function o(t,r){try{var i=n[t](r),a=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(a).then(function(e){o("next",e)},function(e){o("throw",e)});e(a)}("next")})}}const n=require("optimist"),s=require("./libs.js"),o=require("child_process");let t=n.usage("Usage: genie|g [Commands] [Options]").options("mode",{alias:"m",default:"",describe:"実行モードを指定可能"}).options("config",{alias:"c",default:"config.js",describe:"設定ファイルを指定可能"}).options("help",{alias:"h",describe:"説明表示"}).argv;if("demo"===t._[0])e(function*(){console.log(),s.Message("サンプル：default","default"),s.Message("サンプル：primary","primary"),s.Message("サンプル：success","success"),s.Message("サンプル：danger","danger"),s.Message("サンプル：warning","warning"),s.Message("サンプル：info","info"),s.Message("改行込み、1ライン入れも可能。\ntest1\ntest2\ntest3","default",1);let e=yield s.Input("入力BOX（入力文字を発音しますのでご注意）：",20);s.Message("入力された文字："+e),s.Say(e);try{throw new Error("エラーテスト（終了コード255）")}catch(e){console.log(e),process.exit(255)}process.exit()})();else if("ls"===t._[0]){if(s.hasDockerMachineEnv()){console.log("\n  DockerMachine一覧");let e=o.spawnSync("docker-machine",["ls"]);s.Message(e.stdout.toString(),"primary",1)}{console.log("\n  イメージ一覧");let e=o.spawnSync("docker",["images"]);s.Message(e.stdout.toString(),"primary",1)}{console.log("\n  データボリューム一覧");let e=o.spawnSync("docker",["volume","ls"]);s.Message(e.stdout.toString(),"primary",1)}{console.log("\n  コンテナ一覧");let e=o.spawnSync("docker",["ps","-a"]);s.Message(e.stdout.toString(),"primary",1)}process.exit()}else if("clean"===t._[0]){n.usage("Usage: genie|g clean [Options]").options("locked",{alias:"l",describe:"`locked`を含むDataVolumeも削除"}).argv.help&&n.showHelp(),process.exit()}else console.error(n.help()+"\nCommands:\n  init    \n  config  \n  ls      Dockerコンテナ状況を確認する\n  up      \n  down    \n  update  \n  cli     \n  reject  \n  clean   \n  build   \n  php     \n  perl    \n  ruby    \n  mysql   \n  psql    \n  open    \n  ngrok   \n  logs    \n  dlsync  \n  httpd   \n  spec    \n  zap     \n  demo    デモ\n"),process.exit();
},{"./libs.js":3}]},{},[1])